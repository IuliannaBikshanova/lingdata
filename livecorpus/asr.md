# Распознавание аудио с помощью Yescribe ##
### Подготовка файла ###
1. Загрузим файл mp3 для транскрипции и экспортируем результат в txt, поставив 
галочку "Время раздела Добавить временные метки перед каждым разделом в форматах
PDF, DOCX и TXT.
Этот исходный файл лежит в папке livecorpus

3. Скачаем и откроем файл в Notepad++. Нам нужен только кусок с 00:08:06 по 
00:09:25, остальное сотрем.

4. ЕLAN импортирует TSV или CSV файл в слой и правильно расставляет аннотации по
таймкодам(по оси времени), если исходный файл будет набор столбцов с однородными
значениями, причем столбцы удобнее всего разделять
табуляцией.Один из столбцов должен содержать слои, в которых будет находиться
каждая из аннотаций(строк). Следующий столбец пусть отвечает за время начала
аннотации, еще один - за время конца, а в последнем будет сама аннотация.

Уберем лишние символы(SPEAKER, скобки вокруг таймкодов, пустые строки, пробелы 
между таймкодами и репликами) с помощью регулярных выражений.
ELAN при импорте файла сам создаст слой для новых аннотаций, который можно будет
потом переименовать. Поэтому оставим первый столбец пустым - поставим в начале
каждой строки табуляцию

Регулярные выражения:
>
\nSPEAKER_\d\d:\n\( заменить на \t

\)  заменить на \t

\d(-)\d заменить на \t
>

4. Импортируем файл в ELAN

Если транскрибировать с помощью предложенной Whisper, то аннотации получаются длинными, а 
значит, и менее точными(см слой asr@iab2005f-whisper)

# Неточности #

1.Брюллова - "Брилова"(Whisper: "Прилова")
2.сангиной сепией соусом - "ангелесепией"(Whisper:"сангиной сепии сурсом")
3.про сепию и сангину - "про Росепию и Сангин"

Whisper:
ведешь - придешь
шероховатое - шерховатое

Плохо распознанными оказываются кусочки, в которых гласные подвергаются редукции
по качеству - они находятся в слабой позиции, не в ударном слоге(Брюллова, ведешь,
в фонетическом слове про сепию). Нейросеть восстановила неверное
слово ведешь, у которое отличается по звукам от придешь только первым согласным. 
В слове шероховатое о во втором предударном слоге в видео действительно произносится очень кратко, у в слове
сангину - проглатывается, сама фраза "сангиной сепией соусом" проговаривается очень быстро.

Нейросеть ошибочно определила "сепию и сангину" как имена собственные. Из верно
распознанных - только фамилия "Репина". Фамилию Брюллов вряд ли можно было правильно затранскрибировать: 
у нейросети, скорее всего нет списка готовых имен собственных, с которыми можно было бы сравнить распознанные слова.

Интересно, что одно и то же словосочетание с порядковым числительным нейросети записали и словами, и цифрами: "19-го века" и "девятнадцатого века".

Ни одна из нейросетей не зафиксировала "угу"(хмыканье), а неразборчивый фрагмент(09.03.472) везде проигнорирован.

Возможно, если звуки бы артикулировались более четко, скорость речи в некоторых местах была бы ниже, и в видео были удалены посторонние шумы, 
то качество распознавания было бы лучше.

### Дополнение ###
ELAN позволяет поместить импортируемый файл только в один слой, в нем совмещены реплики двух участников. Поэтому такой способ разметки с помощью автоматического распознавания и импорта файла более удобен, когда нужно разметить речь только одного человека.
