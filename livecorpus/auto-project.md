# Автоматическая разметка #
## Реплики ##
Распознаем аудио с помощью нейросети Yescribe и представим результаты в виде для импорта слоя в ELAN
```
text@iab2005f-asr	00:08:06	00:08:15	Мягким материалом как будто ты мелками но у них немножко другая консистенция чем например у простых мелков
text@iab2005f-asr	00:08:16	00:08:17	Пастели

```
(SPEAKER_0\d)(:\n\()([^)]+)(\)  )([^\n]+\n)(\n)
\-\-\>
\1\t\3\t\3\t\5

(\d)-(\d) \-\-\> \1\t\3

(\t)(\d[^\t]+\t\d[^\t]+)(\t)(\d) \-\-\> \1\-\3

SPEAKER_00 \-\-\>  text@iab2005f-asr

SPEAKER_01 \-\-\>  text@iab2005f-asr

Дальше нужно отсортировать строки по алфавиту и удалить знаки препинания(кроме ?, !) и кавычки.

Поделим автоматически распознанный слой на токены три раза: для токенов, частей речи и морфологических признаков(или слои для морф.разметки и частей речи скопировать)

Разметим в Mystem тексты реплик, регулярными выражениями оставим два столбца с названием части речи и морфолол=гическими признаками, поставим на место пустых аннотаций в слоях и импортируем обратно в ELAN.


## Активные органы ##
Определять активный орган можно по наличию в строке-описании жеста слов типа голова, кисть, пальцы с помощью [программы на Python](https://github.com/IuliannaBikshanova/lingdata/blob/main/livecorpus/auto_organs.py). На вход дается набор строк вида:
```
gesture@iab2005f	00:08:53.133	00:08:55.411	поднимает левую кисть, ладонь тыльной стороной вниз, ритмически трясет кистью, уводит влево
gesture@iab2005f	00:08:55.416	00:08:58.660	расправляет пальцы, полусогнуты, ладонь вертикально, тыльная сторона вправо, отводит большой палец в сторону, вращает кистью, пальцы ладони соединяет в одной точке, резко опускает вниз
gesture@iab2005f	00:08:59.355	00:09:00.950	разворачивает ладонь внутренней стороной вниз,  приподносит ладонь слева ко лбу опускает глаза  вниз
```

На выходе программа должна давать текстовый файл, пригодный для импорта в качестве слоя в ELAN:

```
gestActiveOrgan@iab2005f@iab2005f	00:08:55.416	00:08:58.660	hand, finger
gestActiveOrgan@iab2005f@iab2005f	00:08:59.355	00:09:00.950	hand, head
gestActiveOrgan@iab2005f@iab2005f	00:09:00.970	00:09:01.187	head
```

